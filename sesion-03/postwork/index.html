<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Document</title>
</head>
<script>
    // Reto 02
    const saludos = ["Hola", "hello", "Ni hao"];
    const saludoMultiple = saludos.reduce((anterior, actual, index) => {
        return index == saludos.length - 1 ? `${anterior} ${actual}` : `${anterior} ${actual},`
    }, "");
    console.log(saludoMultiple);
    // Reto 2
    let numbers = [5, 6, 7, 8]
    const copia = Array.from(Array(Math.max(...numbers)).keys());
    var mapDeCopia = copia.map((elemento, index) => {
        return (numbers.indexOf(index) < 0 && index)
    });
    console.log(mapDeCopia.filter(x => x));
    // iteradorNumbers.map((elemento, index)=>{
    //     console.log(numbers.indexOf(index));
    // })

    //Aporte de Marvin, desglose de conceptos
    numbers = [8, 4, 9, 2, 5];
    maximo = Math.max(...numbers);
    arreglo = Array.from(Array(maximo).keys());
    console.log(arreglo)
    arreglo2 = arreglo.map((n, i) => numbers.indexOf(i) < 0 && i);
    console.log(arreglo2);
    arreglo3 = arreglo2.filter(x => x);
    console.log(arreglo3);
    numbers = [8, 4, 9, 2, 5];
    console.log("Arreglo original", numbers);
    maximo = Math.max(...numbers);
    arreglo = Array.from(Array(maximo).keys());
    console.log("Genera arreglo a partir del 0 hatsa el nuemro maximo :", arreglo);
    arreglo2 = arreglo.map((n, i) => numbers.indexOf(i) < 0 && i);
    console.log("busca los numeros que no estan en el arreglo principal y pone en false los que si esta", arreglo2);
    arreglo3 = arreglo2.filter(x => x);
    console.log("me regresa un arreglo con los valores numericos", arreglo3);

    //PostWork
    //DeepComparison
    function deepEqual(a, b) {
        if (a === b) return true;
        if (typeof a === "object" && typeof b === "object") {
            for (const key in a) {
                if (!key in b) return false;
                if (!deepEqual(a[key], b[key])) return false;
            }
            return true
        }
        return false
    }

    let obj = { here: { is: "an" }, object: 2 };

    console.log(deepEqual(obj, obj)); // true

    console.log(deepEqual(obj, { here: 1, object: 2 })); // false

    console.log(deepEqual(obj, { here: { is: "an" }, object: 2 })); // true

    //Listas
    function arrayToList(array) {
        let list = null
        for (let index = array.length-1; index >= 0 ; index--) {
            list = {value:array[index], rest:list}
            
        }
        return list;
    }

    function listToArray(list) {
        const array = [];
        for (let node = list; node; node = node.rest){
            array.push(node.value)
        }
        return array;
    }

    function prepend(value, list) {
        return {
            value,
            rest:list
        }
    }

    function nth(list, n) {
        let actualNode = {...list}
        for (let index = 0; index < n; index++) {
            if (!actualNode){
                return undefined
            }
            actualNode = actualNode.rest
        }
        return actualNode.value;
    }

    console.log(arrayToList([1, 2]));
    // {value: 1, rest: {value: 2, rest: null}}

    console.log(listToArray(arrayToList([1, 2, 3])));
    // [1, 2, 3]

    console.log(prepend(1, prepend(2, null)));
    // {value: 1, rest: {value: 2, rest: null}}

    console.log(nth(arrayToList([1, 2, 3]), 1)); // 2
</script>

</html>